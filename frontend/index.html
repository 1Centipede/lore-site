<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Title -->
    <title>Breeding System</title>

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body>
    <!-- =========================================================
         HEADER
    ========================================================== -->
    <header class="site-header">
      <h1>Three-Generation Breeding</h1>
      <div class="header-actions">
        <button class="btn danger" id="globalReset" aria-label="Reset All">
          ‚Ü∫ Reset All
        </button>
      </div>
    </header>

    <!-- =========================================================
         VIEW CONTROLS (kept in DOM, hidden on mobile)
    ========================================================== -->
    <section class="toolbar" aria-label="View controls">
      <div class="toolbar-left">
        <span class="hint">Pan: drag ‚Ä¢ Zoom: pinch</span>
      </div>

      <div class="toolbar-right">
        <button class="btn subtle" id="zoomOut" aria-label="Zoom out">‚Äì</button>
        <span id="zoomLabel" class="zoom-label">100%</span>
        <button class="btn subtle" id="zoomIn" aria-label="Zoom in">+</button>

        <div class="divider" aria-hidden="true"></div>

        <button class="btn subtle" id="zoomFit" aria-label="Fit to screen">Fit</button>
        <button class="btn subtle" id="zoomReset" aria-label="Reset view">Reset View</button>
      </div>
    </section>

    <!-- =========================================================
         STAGE (Desktop: normal flow ‚Ä¢ Mobile: pannable/zoomable)
    ========================================================== -->
    <main id="stage" class="stage" aria-label="Family tree stage">
      <div id="zoomContent" class="zoom-content">
        <!-- SVG connectors layer -->
        <svg id="treeLines" class="tree-lines" aria-hidden="true"></svg>

        <!-- =====================================================
             FAMILY TREE GRID
             Keep IDs/classes unchanged for JS bindings
        ====================================================== -->
        <div class="family-tree-grid" id="treeGrid">
          <!-- =========================
               GRANDPARENT PAIR 1
          ========================== -->
          <section class="grandparent-pair" aria-label="Grandparents 1">
            <p class="pair-title"><strong>Grandparents 1</strong></p>

            <div class="pair-content">
              <article class="grandparent card" id="gp1" aria-label="Grandparent 1">
                <canvas width="140" height="140" aria-label="Grandparent 1 sprite"></canvas>
                <button class="btn primary randomBtn">üé≤ Randomize GP1</button>
                <p class="traitText"></p>
                <div class="traitSelect"></div>
              </article>

              <article class="grandparent card" id="gp2" aria-label="Grandparent 2">
                <canvas width="140" height="140" aria-label="Grandparent 2 sprite"></canvas>
                <button class="btn primary randomBtn">üé≤ Randomize GP2</button>
                <p class="traitText"></p>
                <div class="traitSelect"></div>
              </article>
            </div>
          </section>

          <!-- =========================
               GRANDPARENT PAIR 2
          ========================== -->
          <section class="grandparent-pair" aria-label="Grandparents 2">
            <p class="pair-title"><strong>Grandparents 2</strong></p>

            <div class="pair-content">
              <article class="grandparent card" id="gp3" aria-label="Grandparent 3">
                <canvas width="140" height="140" aria-label="Grandparent 3 sprite"></canvas>
                <button class="btn primary randomBtn">üé≤ Randomize GP3</button>
                <p class="traitText"></p>
                <div class="traitSelect"></div>
              </article>

              <article class="grandparent card" id="gp4" aria-label="Grandparent 4">
                <canvas width="140" height="140" aria-label="Grandparent 4 sprite"></canvas>
                <button class="btn primary randomBtn">üé≤ Randomize GP4</button>
                <p class="traitText"></p>
                <div class="traitSelect"></div>
              </article>
            </div>
          </section>

          <!-- =========================
               PARENT 1
          ========================== -->
          <div class="parent-box" id="parent1-box">
            <article class="parent card" id="p1" aria-label="Parent 1">
              <p class="card-title"><strong>Parent 1</strong></p>
              <canvas width="160" height="160" aria-label="Parent 1 sprite"></canvas>
              <button class="btn love breedBtn">‚ù§Ô∏è Breed GP1 + GP2 ‚Üí P1</button>
              <p class="traitText"></p>
              <div class="traitSelect"></div>
            </article>
          </div>

          <!-- =========================
               PARENT 2
          ========================== -->
          <div class="parent-box" id="parent2-box">
            <article class="parent card" id="p2" aria-label="Parent 2">
              <p class="card-title"><strong>Parent 2</strong></p>
              <canvas width="160" height="160" aria-label="Parent 2 sprite"></canvas>
              <button class="btn love breedBtn">‚ù§Ô∏è Breed GP3 + GP4 ‚Üí P2</button>
              <p class="traitText"></p>
              <div class="traitSelect"></div>
            </article>
          </div>

          <!-- =========================
               CHILD
          ========================== -->
          <div class="child-box">
            <article class="child card" aria-label="Child">
              <p class="card-title"><strong>Child</strong></p>
              <canvas id="childCanvas" width="200" height="200" aria-label="Child sprite"></canvas>
              <button class="btn success" id="finalBreed">üíû Breed P1 + P2 ‚Üí Child</button>
              <p id="traitsDisplay" class="traits-display"></p>
            </article>
          </div>
        </div>
        <!-- /family-tree-grid -->
      </div>
      <!-- /zoom-content -->
    </main>

    <!-- =========================================================
         FOOTER
    ========================================================== -->
    <footer class="site-footer">
      <small>&copy; 1Centipede 2025</small>
    </footer>

    <!-- =========================================================
         SCRIPTS
    ========================================================== -->
    <script src="js/script.js"></script>
  </body>
</html>
